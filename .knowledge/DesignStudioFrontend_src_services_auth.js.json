{"is_source_file": true, "format": "JavaScript", "description": "This file implements an authentication service with support for bypass (mock) mode and placeholder OAuth wiring. It provides functions to check bypass mode, get user info and tokens, handle sign-in/out, and process OAuth redirect callbacks.", "external_files": ["process.env (environment variables)", "window.location"], "external_methods": ["encodeURIComponent", "window.location.assign"], "published": ["isBypassMode", "getUser", "getAccessToken", "signIn", "handleRedirectCallback", "signOut"], "classes": [], "methods": [{"name": "isBypassMode()", "description": "Returns boolean indicating if the application is in bypass (mock) mode.", "scope": "", "scopeKind": ""}, {"name": "getUser()", "description": "Returns the current user object if signed in, or null.", "scope": "", "scopeKind": ""}, {"name": "getAccessToken()", "description": "Returns the current access token or null if not signed in.", "scope": "", "scopeKind": ""}, {"name": "signIn()", "description": "Handles user sign-in. In bypass mode, it mocks a user; otherwise initiates OAuth flow or falls back to mock.", "scope": "", "scopeKind": ""}, {"name": "handleRedirectCallback(searchParams)", "description": "Processes OAuth redirect callback parameters to obtain tokens and user info; in bypass mode, it does nothing.", "scope": "", "scopeKind": ""}, {"name": "signOut()", "description": "Logs out the user by clearing user info and tokens.", "scope": "", "scopeKind": ""}, {"name": "isDevDefaultBypass()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["window.location.assign", "Promise.resolve", "searchParams.get"], "search-terms": ["auth service", "bypass mode", "OAuth wiring", "mock user", "environment variables", "signIn", "handleRedirectCallback"], "state": 2, "file_id": 14, "knowledge_revision": 100, "git_revision": "9a0b6d6c9fd1facdaac63b03f933ebb4ab8b6e46", "revision_history": [{"29": ""}, {"81": "df8687e747780f0a1ef5e987742451cf445b9dc3"}, {"98": "598a9a485850c25ce37037d60726dc8dcfaf6437"}, {"100": "9a0b6d6c9fd1facdaac63b03f933ebb4ab8b6e46"}], "ctags": [{"_type": "tag", "name": "_token", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^let _token = BYPASS ? 'mock-dev-token' : null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "_user", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^    _user = {$/", "language": "JavaScript", "kind": "class", "scope": "signIn", "scopeKind": "class"}, {"_type": "tag", "name": "_user", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^  _user = {$/", "language": "JavaScript", "kind": "class", "scope": "handleRedirectCallback", "scopeKind": "class"}, {"_type": "tag", "name": "_user", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^let _user = BYPASS ? {$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^      email: 'test.user@designstudio.local',$/", "language": "JavaScript", "kind": "property", "scope": "signIn._user", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^    email: 'oauth.user@example.com',$/", "language": "JavaScript", "kind": "property", "scope": "handleRedirectCallback._user", "scopeKind": "class"}, {"_type": "tag", "name": "getAccessToken", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^export function getAccessToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getUser", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^export function getUser() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "handleRedirectCallback", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^export function handleRedirectCallback(searchParams) {$/", "language": "JavaScript", "kind": "function", "signature": "(searchParams)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^      id: 'dev-user-1',$/", "language": "JavaScript", "kind": "property", "scope": "signIn._user", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^    id: 'user-1',$/", "language": "JavaScript", "kind": "property", "scope": "handleRedirectCallback._user", "scopeKind": "class"}, {"_type": "tag", "name": "isBypassMode", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^export function isBypassMode() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isDevDefaultBypass", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^function isDevDefaultBypass() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isMockUser", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^      isMockUser: true$/", "language": "JavaScript", "kind": "property", "scope": "signIn._user", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^      name: 'Test User (Mock)',$/", "language": "JavaScript", "kind": "property", "scope": "signIn._user", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^    name: 'OAuth User',$/", "language": "JavaScript", "kind": "property", "scope": "handleRedirectCallback._user", "scopeKind": "class"}, {"_type": "tag", "name": "roles", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^      roles: ['designer', 'admin', 'tester'],$/", "language": "JavaScript", "kind": "property", "scope": "signIn._user", "scopeKind": "class"}, {"_type": "tag", "name": "roles", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^    roles: ['designer']$/", "language": "JavaScript", "kind": "property", "scope": "handleRedirectCallback._user", "scopeKind": "class"}, {"_type": "tag", "name": "signIn", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^export function signIn() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "signOut", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^export function signOut() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "13221e202976e2d657a1dea7731d730f", "format-version": 4, "code-base-name": "DesignStudioFrontend", "filename": "DesignStudioFrontend/src/services/auth.js", "fields": [{"name": "let _token = BYPASS ? 'mock-dev-token' : null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let _user = BYPASS ? {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "email: 'test.user@designstudio.local',", "scope": "signIn._user", "scopeKind": "class", "description": "unavailable"}, {"name": "email: 'oauth.user@example.com',", "scope": "handleRedirectCallback._user", "scopeKind": "class", "description": "unavailable"}, {"name": "id: 'dev-user-1',", "scope": "signIn._user", "scopeKind": "class", "description": "unavailable"}, {"name": "id: 'user-1',", "scope": "handleRedirectCallback._user", "scopeKind": "class", "description": "unavailable"}, {"name": "isMockUser: true", "scope": "signIn._user", "scopeKind": "class", "description": "unavailable"}, {"name": "name: 'Test User (Mock)',", "scope": "signIn._user", "scopeKind": "class", "description": "unavailable"}, {"name": "name: 'OAuth User',", "scope": "handleRedirectCallback._user", "scopeKind": "class", "description": "unavailable"}, {"name": "roles: ['designer', 'admin', 'tester'],", "scope": "signIn._user", "scopeKind": "class", "description": "unavailable"}, {"name": "roles: ['designer']", "scope": "handleRedirectCallback._user", "scopeKind": "class", "description": "unavailable"}]}