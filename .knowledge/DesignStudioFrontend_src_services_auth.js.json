{"is_source_file": true, "format": "JavaScript", "description": "This file is an authentication service module for a React-based frontend application. It provides functions to simulate user authentication in bypass mode or handle OAuth authentication flow, including sign-in, sign-out, and redirect callback handling.", "external_files": ["process.env", "window.location"], "external_methods": ["Promise.resolve", "searchParams.get", "window.location.assign"], "published": ["isBypassMode", "getUser", "getAccessToken", "signIn", "handleRedirectCallback", "signOut"], "classes": [], "methods": [{"name": "isBypassMode()", "description": "Returns whether the application is running in bypass authentication mode.", "scope": "", "scopeKind": ""}, {"name": "getUser()", "description": "Returns the current user object if logged in, or null otherwise.", "scope": "", "scopeKind": ""}, {"name": "getAccessToken()", "description": "Retrieves the current access token if available.", "scope": "", "scopeKind": ""}, {"name": "signIn()", "description": "Simulates signing in in bypass mode or begins OAuth flow via redirect.", "scope": "", "scopeKind": ""}, {"name": "handleRedirectCallback(searchParams)", "description": "Processes the redirect callback after OAuth login, updating user and token info.", "scope": "", "scopeKind": ""}, {"name": "signOut()", "description": "Logs out the current user, clearing user info and tokens.", "scope": "", "scopeKind": ""}], "calls": ["Promise.resolve", "searchParams.get", "window.location.assign"], "search-terms": ["auth bypass", "OAuth redirect", "mock user", "signIn", "signOut", "auth service", "React app auth"], "state": 2, "file_id": 14, "knowledge_revision": 98, "git_revision": "598a9a485850c25ce37037d60726dc8dcfaf6437", "revision_history": [{"29": ""}, {"81": "df8687e747780f0a1ef5e987742451cf445b9dc3"}, {"98": "598a9a485850c25ce37037d60726dc8dcfaf6437"}], "ctags": [{"_type": "tag", "name": "BYPASS", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^const BYPASS = String(process.env.REACT_APP_BYPASS_AUTH).toLowerCase() === 'true';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "_token", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^let _token = BYPASS ? 'mock-dev-token' : null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "_user", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^    _user = {$/", "language": "JavaScript", "kind": "class", "scope": "signIn", "scopeKind": "class"}, {"_type": "tag", "name": "_user", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^  _user = {$/", "language": "JavaScript", "kind": "class", "scope": "handleRedirectCallback", "scopeKind": "class"}, {"_type": "tag", "name": "_user", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^let _user = BYPASS ? {$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^      email: 'test.user@designstudio.local',$/", "language": "JavaScript", "kind": "property", "scope": "signIn._user", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^    email: 'oauth.user@example.com',$/", "language": "JavaScript", "kind": "property", "scope": "handleRedirectCallback._user", "scopeKind": "class"}, {"_type": "tag", "name": "getAccessToken", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^export function getAccessToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getUser", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^export function getUser() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "handleRedirectCallback", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^export function handleRedirectCallback(searchParams) {$/", "language": "JavaScript", "kind": "function", "signature": "(searchParams)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^      id: 'dev-user-1',$/", "language": "JavaScript", "kind": "property", "scope": "signIn._user", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^    id: 'user-1',$/", "language": "JavaScript", "kind": "property", "scope": "handleRedirectCallback._user", "scopeKind": "class"}, {"_type": "tag", "name": "isBypassMode", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^export function isBypassMode() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isMockUser", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^      isMockUser: true$/", "language": "JavaScript", "kind": "property", "scope": "signIn._user", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^      name: 'Test User (Mock)',$/", "language": "JavaScript", "kind": "property", "scope": "signIn._user", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^    name: 'OAuth User',$/", "language": "JavaScript", "kind": "property", "scope": "handleRedirectCallback._user", "scopeKind": "class"}, {"_type": "tag", "name": "roles", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^      roles: ['designer', 'admin', 'tester'],$/", "language": "JavaScript", "kind": "property", "scope": "signIn._user", "scopeKind": "class"}, {"_type": "tag", "name": "roles", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^    roles: ['designer']$/", "language": "JavaScript", "kind": "property", "scope": "handleRedirectCallback._user", "scopeKind": "class"}, {"_type": "tag", "name": "signIn", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^export function signIn() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "signOut", "path": "/home/kavia/workspace/code-generation/modelmapperv1-1604-2665/DesignStudioFrontend/src/services/auth.js", "pattern": "/^export function signOut() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "b9e319cf074d49de41d76c8b4556f7a4", "format-version": 4, "code-base-name": "DesignStudioFrontend", "filename": "DesignStudioFrontend/src/services/auth.js", "fields": [{"name": "let _token = BYPASS ? 'mock-dev-token' : null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let _user = BYPASS ? {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "email: 'test.user@designstudio.local',", "scope": "signIn._user", "scopeKind": "class", "description": "unavailable"}, {"name": "email: 'oauth.user@example.com',", "scope": "handleRedirectCallback._user", "scopeKind": "class", "description": "unavailable"}, {"name": "id: 'dev-user-1',", "scope": "signIn._user", "scopeKind": "class", "description": "unavailable"}, {"name": "id: 'user-1',", "scope": "handleRedirectCallback._user", "scopeKind": "class", "description": "unavailable"}, {"name": "isMockUser: true", "scope": "signIn._user", "scopeKind": "class", "description": "unavailable"}, {"name": "name: 'Test User (Mock)',", "scope": "signIn._user", "scopeKind": "class", "description": "unavailable"}, {"name": "name: 'OAuth User',", "scope": "handleRedirectCallback._user", "scopeKind": "class", "description": "unavailable"}, {"name": "roles: ['designer', 'admin', 'tester'],", "scope": "signIn._user", "scopeKind": "class", "description": "unavailable"}, {"name": "roles: ['designer']", "scope": "handleRedirectCallback._user", "scopeKind": "class", "description": "unavailable"}]}